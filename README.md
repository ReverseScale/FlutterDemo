# FlutterDemo
## ğŸ“‡ å†…å®¹å¤§çº²ï¼š
* é¡¹ç›®ä»‹ç»
* é…ç½®å¼€å‘ç¯å¢ƒ
* å®‰è£…å¼€å‘å·¥å…·
* Debug æŠ€å·§
* ä¸‰æ–¹åº“ä½¿ç”¨ä¸å‘å¸ƒ
* iOS æ··ç¼–å¼€å‘ï¼ˆSwiftã€OCï¼‰
* Demo æ¼”ç¤º

### ğŸ— é¡¹ç›®ä»‹ç»

### å®˜æ–¹ç¤ºä¾‹
ç›®å‰æ¥çœ‹æœ€å¥½çš„ Flutter ç¤ºä¾‹å·¥ç¨‹ï¼ŒåŠŸèƒ½å®Œå–„ã€ç»“æ„æ¸…æ™°ã€‚

å·¥ç¨‹è·¯å¾„ï¼š
```
/flutter_gallery
```

| é¡¹ç›®æ¼”ç¤ºé¦–é¡µ | é¡¹ç›®èœå•é¡µé¢ | é¡¹ç›®æˆå“å±•ç¤º | é¡¹ç›®é€šè®¯å½•é¡µ | é¡¹ç›®æ§ä»¶ä»‹ç» | é¡¹ç›®æç¤ºæ§ä»¶ |
| ------------- | ------------- | ------------- | ------------- | ------------- | ------------- | 
| ![kezOnP.png](https://s2.ax1x.com/2019/01/25/kezOnP.png) | ![kezj78.png](https://s2.ax1x.com/2019/01/25/kezj78.png) | ![kmSShQ.png](https://s2.ax1x.com/2019/01/25/kmSShQ.png) | ![kmSC1s.png](https://s2.ax1x.com/2019/01/25/kmSC1s.png) | ![kmSZAU.png](https://s2.ax1x.com/2019/01/25/kmSZAU.png) | ![kmSK39.png](https://s2.ax1x.com/2019/01/25/kmSK39.png) |

Flutter é€šè¿‡è·¨å¹³å°çš„ Skia å›¾å½¢åº“æ¥å®ç°å›¾å½¢æ¸²æŸ“ï¼Œåªä¾èµ–å„ä¸ªç³»ç»Ÿçš„å›¾å½¢ç»˜åˆ¶ç›¸å…³çš„ Apiï¼Œæ‰€ä»¥å€ŸåŠ© Hummingbird å¯ä»¥å®ç°æ¡Œé¢ç«¯çš„æ¸²æŸ“å·¥ä½œã€‚

![kmpJrq.png](https://s2.ax1x.com/2019/01/25/kmpJrq.png)

é€šè¿‡ Hummingbird è¾“å‡ºåˆ° macOS æ•ˆæœï¼š

| é¡¹ç›®æ¼”ç¤ºé¦–é¡µ | é¡¹ç›®èœå•é¡µé¢ | é¡¹ç›®æˆå“å±•ç¤º |
| ------------- | ------------- | ------------- |
| ![km9sfg.png](https://s2.ax1x.com/2019/01/25/km9sfg.png) | ![km9Dk8.png](https://s2.ax1x.com/2019/01/25/km9Dk8.png) | ![kmpTsI.png](https://s2.ax1x.com/2019/01/25/kmpTsI.png) | 


### iOS åŸç”Ÿé¡¹ç›®æ··ç¼–
æ ¹æ®å®˜æ–¹æ–‡æ¡£å®ç°çš„åŸç”Ÿ <-> Flutter æ··ç¼–ç¤ºä¾‹ï¼ŒDemo å·¥ç¨‹ä½¿ç”¨ Swift å®ç°ï¼Œæ–‡æ¡£éƒ¨åˆ†æœ‰ OCã€Swift åˆ†åˆ«å®ç°æ–¹æ³•ã€‚

å·¥ç¨‹è·¯å¾„ï¼š
```
# Flutter èµ„æºåŒ…
/FlutterDemo/flutter_module 

# iOS åŸç”Ÿå·¥ç¨‹
/FlutterDemo/FlutterIOS
```

> è¿è¡Œå‰éœ€è¦é‡æ–°è®¾å®šæ–‡ä»¶è·¯å¾„ï¼Œå¦åˆ™ pod install ä¼šæŠ¥é”™ã€‚

### Flutter æ§ä»¶ç»ƒä¹ 
çœŸæ­£æ„ä¹‰ä¸Šçš„ Demo å·¥ç¨‹ï¼Œåˆ†åˆ«æ¼”ç¤ºä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½æ§ä»¶ä½¿ç”¨å’Œä¸€äº›å•é¡µé¢ï¼ˆè§åº•éƒ¨æ•ˆæœå›¾ï¼‰ã€‚

![](http://ghexoblogimages.oss-cn-beijing.aliyuncs.com/19-1-10/43734919.jpg)

å·¥ç¨‹è·¯å¾„ï¼š
```
/hello_flutter_app
```

### Flutter ç½‘ç»œåº“ä½¿ç”¨
ä½¿ç”¨ dio + rxdart å®ç°ä¼˜é›…çš„ç½‘ç»œæ•°æ®è¯·æ±‚ã€‚

å·¥ç¨‹è·¯å¾„ï¼š
```
/network_app
```

### Flutter è·¯ç”±åº“ä½¿ç”¨
ä½¿ç”¨ fluro å®ç°çµæ´»çš„è·¯ç”±ç®¡ç†ã€‚

å·¥ç¨‹è·¯å¾„ï¼š
```
/router_fluro
```

### Cupertino é£æ ¼ç¤ºä¾‹
é‰´äºç›®å‰è®¾è®¡å¸ˆçš„å‡ºç¨¿é£æ ¼éƒ½æ˜¯ Apple Designï¼Œè¿™é‡Œæ–°å¢ Cupertino é£æ ¼ç¤ºä¾‹å·¥ç¨‹ã€‚

å·¥ç¨‹è·¯å¾„ï¼š
```
/veggieseasons
```


â–ˆâ—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â—¤â—¢â–ˆ

## ğŸ›  é…ç½®å¼€å‘ç¯å¢ƒ
### ä¸‹è½½ Flutter

æ¨èå»å®˜ç½‘ä¸‹è½½ï¼Œé€Ÿåº¦å¹¶ä¸æ…¢ï¼Œç½‘å€ï¼šhttps://flutter.io/setup-macos/

![](https://user-gold-cdn.xitu.io/2018/12/14/167aa27d47fa55f6?w=1582&h=414&f=png&s=63434)

æˆ–è€…ä¹Ÿå¯ä»¥é€šè¿‡ git å°† Flutter é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°ï¼Œå…¶å®å’Œå®˜ç½‘ä¸‹è½½æ˜¯ä¸€æ ·æ»´ã€‚

```
git clone -b alpha https://github.com/flutter/flutter.git
```

### é…ç½®ç¯å¢ƒå˜é‡

ä¸‹è½½æˆ–è€…å…‹éš†å®Œæˆåï¼Œåˆ° flutter æ‰€åœ¨ç›®å½•ï¼Œé…ç½®ç¯å¢ƒå˜é‡ã€‚

å¦‚æœ bash_profile æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°±æ–°å»ºä¸€ä¸‹ã€‚

```
source ~/.bash_profile
```

å¼€å§‹é…ç½®ç¯å¢ƒå˜é‡

```
vim ~/.bash_profile
```

é€‰æ‹© editï¼ŒæŒ‰é”®ç›˜ä¸Šçš„ â€œiâ€ é”®ï¼Œè¿›å…¥å¯ç¼–è¾‘çŠ¶æ€ï¼Œåœ¨æ–‡æœ¬ä¸­å¢åŠ è¿™ä¸‰è¡Œï¼ˆåé¢ä¸¤è¡Œç”¨äº flutter doctor åœ¨å¤©æœä¸‹è½½é…ç½®åŒ…ï¼‰:

```
export PATH=/flutter/bin:$PATH
export PUB_HOSTED_URL=https://pub.flutter-io.cn
export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn
```

ç¼–è¾‘å®Œï¼ŒæŒ‰ â€œescâ€ é€€å‡ºç¼–è¾‘çŠ¶æ€ï¼Œè¾“å…¥

```
:wq
```


ä¿å­˜ä¸€ä¸‹ï¼Œæœ€åä¼šå‡ºç° Welcom to Flutter!ã€‚

![](https://user-gold-cdn.xitu.io/2018/12/14/167aa27d4d004fcf?w=1140&h=904&f=png&s=152641)

è®¾ç½® flutter ä¸ºå…¨å±€å¯æ‰§è¡Œ

```
export PATH="$PWD/flutter/bin:$PATH"
```

### ä½¿ç”¨ flutter doctor å‘½ä»¤è¿›è¡Œå®‰è£…æ£€æŸ¥

è¿è¡Œ doctor å®‰è£… Dart SDK å’Œå·¥å…·åŒ…
```
flutter doctor
```

è¾“å‡ºå¦‚ä¸‹ï¼š

```
Downloading Dart SDK from Flutter engine e3687f70c7ece72000b32ee1b3c02755ba5361ac...
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 87.9M  100 87.9M    0     0  4247k      0  0:00:21  0:00:21 --:--:-- 4945k

Downloading Material fonts...                                0.6s
Downloading package sky_engine...                            0.3s
Downloading common tools...                                  0.8s
Downloading darwin-x64 tools...                              3.4s
Downloading android-arm-profile/darwin-x64 tools...          0.6s
Downloading android-arm-release/darwin-x64 tools...          0.7s
Downloading android-arm64-profile/darwin-x64 tools...        0.6s
Downloading android-arm64-release/darwin-x64 tools...        0.6s
Downloading android-x86 tools...                             1.9s
Downloading android-x64 tools...                             2.4s
Downloading android-arm tools...                             1.2s
Downloading android-arm-profile tools...                     0.9s
Downloading android-arm-release tools...                     0.7s
Downloading android-arm64 tools...                           1.1s
Downloading android-arm64-profile tools...                   1.0s
Downloading android-arm64-release tools...                   0.8s
Downloading ios tools...                                     4.3s
Downloading ios-profile tools...                             3.7s
Downloading ios-release tools...                             3.2s
Downloading Gradle Wrapper...                                0.1s
```

## ğŸ”¨ å®‰è£…å¼€å‘å·¥å…·
### Android Studio 
å®˜æ–¹åœ°å€ï¼šhttps://developer.android.com/studio/

![](https://user-gold-cdn.xitu.io/2018/12/14/167aa27d4ba21c87?w=1440&h=544&f=png&s=79024)

ç›¸å…³ä¾èµ–é…ç½®å¯ä»¥åœ¨ AndroidDevtools ç½‘ç«™æ‰¾ï¼ŒåŸºæœ¬éƒ½æœ‰çš„ã€‚
AndroidDevtoolsï¼šhttp://www.androiddevtools.cn

> è§£å†³ gradle sync å¤ªæ…¢çš„é—®é¢˜

å°±ç®—æ˜¯ç¿»äº†å¢™ï¼Œgradle sync ä¾ç„¶é€Ÿåº¦æ„Ÿäººï¼Œè€Œä¸”å›½å†…è®¿é—®jcenterå¤ªæ…¢ï¼ˆç”šè‡³è¿æ¥ä¸ä¸Šï¼‰ï¼Œå°±ä¼šæŠ¥å„ç§å…³äºä¾èµ–æ›´æ–°å¤±è´¥çš„é”™è¯¯ã€‚
 
ä»¥å‰oschinaï¼ˆä¹Ÿå°±æ˜¯å¼€æºä¸­å›½ï¼‰æä¾›äº†jcenterçš„é•œåƒåœ°å€ï¼Œç„¶è€Œä¸å¹¸çš„æ˜¯å› ä¸ºå„ç§åŸå› ï¼Œæœ€è¿‘åœæ­¢æœåŠ¡äº†
å¼€æºä¸­å›½ Maven é•œåƒåº“å…³é—­è®¿é—®
 
å¹¸è¿çš„æ˜¯é˜¿é‡Œäº‘æä¾›äº†jcenteré•œåƒ  http://maven.aliyun.com/
 
å¯ä»¥åœ¨å·¥ç¨‹gradleä¸­å¦‚ä¸‹ä¿®æ”¹ï¼ŒåŠ é€Ÿ gradle sync

```
// Top-level build file where you can add configuration options common to all sub-projects/modules.  
  
buildscript {  
    repositories {  
        maven{ url 'http://maven.aliyun.com/nexus/content/groups/public'}  
        //jcenter()  
    }  
    dependencies {  
        classpath 'com.android.tools.build:gradle:2.2.2'  
  
        // NOTE: Do not place your application dependencies here; they belong  
        // in the individual module build.gradle files  
    }  
}  
  
allprojects {  
    repositories {  
        maven{ url 'http://maven.aliyun.com/nexus/content/groups/public'}  
        //jcenter()  
    }  
}  
```

### Xcode
Xcode éœ€è¦ macOS ç³»ç»Ÿçš„æ”¯æŒï¼Œå¦‚æœç”¨çš„æ˜¯ MacBookï¼Œæ‰“å¼€ App Store ç›´æ¥ä¸‹è½½å°±å¥½äº†ã€‚

![](https://user-gold-cdn.xitu.io/2018/12/14/167aa27d4bbfbc14?w=2360&h=1448&f=png&s=2378266)

### Visual Studio Code
è™½ç„¶ Android Studio ä¹Ÿå¯ä»¥ç”¨ï¼Œä½†æ˜¯ VS Code æ›´åŠ è½»é‡ï¼Œæ‰€ä»¥æ¨èä¸€ä¸‹ã€‚

å®˜ç½‘ï¼šhttps://code.visualstudio.com
![](https://user-gold-cdn.xitu.io/2018/12/14/167aabcc6f146584?w=2304&h=962&f=png&s=435208)

å®‰è£… Flutter åŒ…ï¼Œå°±å¯ä»¥æ„‰å¿«çš„æ•²ä»£ç äº†..
![](https://user-gold-cdn.xitu.io/2018/12/14/167aabcc6c67bd7d?w=714&h=564&f=jpeg&s=71952)

è€Œä¸”å¯ä»¥ç›´æ¥é€‰æ‹©è¿è¡Œçš„è™šæ‹Ÿæœºï¼Œä»æ­¤ä¸éœ€è¦æ‰“å¼€ç¹é‡çš„åŒç«¯IDEã€‚

![](https://user-gold-cdn.xitu.io/2018/12/14/167aabcc6ade980e?w=1300&h=274&f=png&s=26614)


## ğŸ› Debug æŠ€å·§

è¿™é‡Œä»¥ VSCode åšä¸º Dart ç¼–è¾‘å·¥å…·ä¸ºä¾‹ï¼Œæ¼”ç¤ºä¸€ä¸‹å¸¸ç”¨çš„ Debug æŠ€å·§ã€‚

### æ–­ç‚¹è°ƒè¯•

å’Œå¸¸ç”¨çš„ IDE ä¸€æ ·ï¼Œåœ¨ä»£ç å·¦ä¾§ç‚¹ä¸€ä¸‹å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–­ç‚¹ï¼Œåœ¨ VSCode çš„ Debug æ¨¡å¼ä¸‹ç‚¹å‡» `run` å³å¯è¿›è¡Œæ–­ç‚¹è°ƒè¯•ã€‚

![](https://user-gold-cdn.xitu.io/2018/12/20/167c990b20cca7f1?w=974&h=148&f=png&s=32873)

### debugger è°ƒè¯•

å½“ä½¿ç”¨ Dart Observatory æ—¶ï¼Œå¯ä»¥ä½¿ç”¨debugger() è¯­å¥æ’å…¥ç¼–ç¨‹å¼æ–­ç‚¹,é¦–å…ˆéœ€è¦æ·»åŠ 

```
import 'dart:developer';
```

ç„¶ååœ¨éœ€è¦ debugger çš„ä»£ç å¤„æ·»åŠ æ–¹æ³•å³å¯ã€‚

```
void someFunction(double offset) {
  debugger(when: offset > 30.0, message: 'offset å¤§äº 30 æ—¶ï¼Œå¯åŠ¨æ–­ç‚¹è°ƒè¯•);
  // ...
}
```

é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ `print` `debugPrint` `flutter logs` åœ¨ç³»ç»Ÿæ§åˆ¶å°ä¸­æ‰“å°ä¿¡æ¯è¾…åŠ©è°ƒè¯•ã€‚

### æŸ¥çœ‹è¿è¡ŒçŠ¶æ€

å½“æˆ‘ä»¬ä»å‘½ä»¤è¡Œè¿è¡Œ `flutter run` è¿è¡Œç¨‹åºæ—¶ï¼Œæ§åˆ¶å°ä¼šç»™æˆ‘ä»¬ä¸€ä¸ªç«™å†…é“¾æ¥ï¼Œä»¥ä¾¿æˆ‘ä»¬æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ã€‚

![](https://user-gold-cdn.xitu.io/2018/12/20/167c990b25562105?w=734&h=67&f=png&s=14037)

ä½¿ç”¨ Chrome æµè§ˆå™¨æ‰“å¼€ä¸Šå›¾çš„é“¾æ¥ï¼Œå°±å¯ä»¥çœ‹åˆ°å…·ä½“çš„è¿è¡ŒçŠ¶æ€ä¿¡æ¯äº†ã€‚

![](https://user-gold-cdn.xitu.io/2018/12/20/167c990b26e7713c?w=1192&h=646&f=png&s=98449)

## ğŸ“¦ ä¸‰æ–¹åº“ä½¿ç”¨ä¸å‘å¸ƒ
### ä½¿ç”¨ä¸‰æ–¹åº“

Flutter é¡¹ç›®ä¸­é€šè¿‡ `pubspec.yaml` æ¥ç®¡ç†ç¬¬ä¸‰æ–¹åº“ï¼Œåœ¨ `pubspec.yaml` ä¸­æ·»åŠ ç¬¬ä¸‰æ–¹åº“åç§°å’Œç‰ˆæœ¬å·ç­‰ä¿¡æ¯ã€‚

![](https://user-gold-cdn.xitu.io/2018/12/14/167aabcc6f695ae0?w=596&h=244&f=png&s=26771)

ä»¥å¼•å…¥ dio ä¸ºä¾‹

```
dependencies:
  flutter:
    sdk: flutter

  # The following adds the Cupertino Icons font to your application.
  # Use with the CupertinoIcons class for iOS style icons.
  cupertino_icons: ^0.1.2
  dio: ^1.0.9
```

åŠ å…¥ä¸€è¡Œ
```
dio: x.x.x  #latest version
```

å¹¶æ‰§è¡Œ`flutter packages get`å³å¯å°†ä¸‰æ–¹åº“æ‹‰å…¥æœ¬åœ°å·¥ç¨‹æ–‡ä»¶ã€‚

```
flutter packages get
```

### å‘å¸ƒä¸‰æ–¹åº“

ä¸Šé¢é€šè¿‡ pubspec ç®¡ç†çš„ä¸‰æ–¹åº“å¤§éƒ½ä¹Ÿæ˜¯å¼€å‘è€…å°è£…åæ‰“åŒ…å‘å¸ƒçš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯•ç€å‘å¸ƒä¸€ä¸ªè‡ªå·±çš„ä¸‰æ–¹åº“ã€‚

package åˆ†ç±»ï¼š
* Dart packagesï¼šä½¿ç”¨ Dart è¯­è¨€ç¼–å†™ï¼Œä¸º Flutter åšåŠŸèƒ½æ‰©å±•çš„åº“ã€‚
* plugin packagesï¼šåœ¨ Dart packages åŸºç¡€ä¸Šï¼ŒåŒ…å« iOS å’Œ Android åŠŸèƒ½è°ƒç”¨çš„æ’ä»¶åŒ…ã€‚

#### åˆ›å»º packages

dart package:
```
flutter create --template=package test_dart_package
```

plugin package:
```
flutter create --org com.rs.example --template=plugin -i swift -a kotlin test_flutter_package
```

å‚æ•°è¯´æ˜ï¼š
* --org com.rs.example:åŒ…çš„ç»„ç»‡å
* -i swift:åŒ…ä½¿ç”¨ Swift 
* -a kotlin:åŒ…ä½¿ç”¨ kotlin æ”¯æŒ 

å·¥ç¨‹ç›®å½•è¯´æ˜ï¼š
* lib/test_flutter_package.dart:æ’ä»¶åŒ…çš„Dart API.
* android/src/main/java/com/yourcompany/test_flutter_package/TestFlutterPackagePlugin.kt:æ’ä»¶åŒ…APIçš„Androidå®ç°.
* ios/Classes/TestFlutterPackagePlugin.m:æ’ä»¶åŒ…APIçš„ioså®ç°.
* example/:ä¸€ä¸ªä¾èµ–äºè¯¥æ’ä»¶çš„Flutteråº”ç”¨ç¨‹åºï¼Œæ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨å®ƒ

#### å‘å¸ƒ packages

è¿è¡Œ dry-run å‘½ä»¤ä»¥æŸ¥çœ‹æ˜¯å¦éƒ½å‡†å¤‡OKäº†:
```
flutter packages pub publish --dry-run
```

è¿è¡Œå‘å¸ƒå‘½ä»¤:
```
flutter packages pub publish
```

æ›´å¤šè¯·é˜…è¯» [Flutter ä¸­æ–‡ç½‘](https://flutterchina.club/developing-packages/#step-1-å¼€å‘dartåŒ…)

## ğŸ“± iOS æ··ç¼–å¼€å‘ï¼ˆSwiftã€OCï¼‰
### Cocoapods å¼•å…¥

å®Œæˆå¼•å…¥åçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š
![](https://user-gold-cdn.xitu.io/2018/12/14/167ab90307245012?w=816&h=80&f=jpeg&s=17111)

* FlutterDemo: æ€»çš„çˆ¶ç›®å½•
* FlutterIOS: iOS å·²æœ‰çš„é¡¹ç›®å·¥ç¨‹
* flutter_module: Flutter çš„åº“åŒ…

### åˆ›å»º module åŒ…
åˆ° cd åˆ°æ€»ç›®å½• FlutterDemo ä¸‹ï¼Œæ‰§è¡Œ Flutter å‘½ä»¤ `flutter create -t module xxx`ï¼š

```
flutter create -t module flutter_module
```

è¿è¡Œè¿‡åï¼Œç›®å½•ä¸­å°±å‡ºç°äº† flutter_module æ–‡ä»¶ã€‚

### Pods ç»‘å®š

è¿™é‡Œåªä»‹ç»é€šè¿‡ cocoapods ç»‘å®š module åŒ…æ–¹æ³•ï¼Œæ‰‹åŠ¨å¯¼å…¥è¯·å‚è€ƒ Flutter Github wikiã€‚

æ‰“å¼€ `Podfile` æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```
flutter_application_path = '/Users/whatsxie/Desktop/FlutterDemo/flutter_module/'
  eval(File.read(File.join(flutter_application_path, '.ios', 'Flutter', 'podhelper.rb')), binding)
```

> æ³¨ï¼šä¸Šé¢çš„è·¯å¾„éœ€è¦æ ¹æ®æœ¬åœ°ä½ç½®ä¿®æ”¹

è¿è¡Œ Demo å·¥ç¨‹å¯èƒ½åŒæ—¶éœ€è¦ä¿®æ”¹ä¸‹å›¾çš„è·¯å¾„ï¼š

![kezclR.png](https://s2.ax1x.com/2019/01/25/kezclR.png)

æ‰§è¡Œ `pod install` å³å¯å®Œæˆç»‘å®šã€‚

### è®¾ç½®è„šæœ¬

æ‰“å¼€ Xcode è‡³é¡¹ç›® TARGETS - é¡¹ç›®å - BuildPhases ä¸‹ï¼Œæ·»åŠ ä¸€ä¸ªæ‰§è¡Œè„šæœ¬ã€‚

```
"$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh" build
"$FLUTTER_ROOT/packages/flutter_tools/bin/xcode_backend.sh" embed
```

![](https://user-gold-cdn.xitu.io/2018/12/14/167ab90308dc4167?w=1101&h=559&f=png&s=298040)

è¿è¡Œ `âŒ˜B` ç»‘å®šåº“å°± OK äº†ã€‚


### Native è°ƒç”¨ Flutter è§†å›¾

Demo ä¸­æ˜¯ Swift å®ç°ï¼Œç½‘ä¸Šå¾ˆå¤š OC çš„å®ç°ï¼Œè¿™é‡Œä¸¤ç§è¯­è¨€éƒ½æä¾›å‚è€ƒã€‚
OC:
AppDelegate.h
```
#import <UIKit/UIKit.h>
#import <Flutter/Flutter.h>

@interface AppDelegate : FlutterAppDelegate
@end
```

AppDelegate.m
```
#import <FlutterPluginRegistrant/GeneratedPluginRegistrant.h> // Only if you have Flutter Plugins

#include "AppDelegate.h"

@implementation AppDelegate

// This override can be omitted if you do not have any Flutter Plugins.
- (BOOL)application:(UIApplication *)application
    didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
  [GeneratedPluginRegistrant registerWithRegistry:self];
  return [super application:application didFinishLaunchingWithOptions:launchOptions];
}

@end
```

ViewController.m
```
#import <Flutter/Flutter.h>
#import "ViewController.h"

@implementation ViewController
- (void)viewDidLoad {
    [super viewDidLoad];
    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
    [button addTarget:self
               action:@selector(handleButtonAction)
     forControlEvents:UIControlEventTouchUpInside];
    [button setTitle:@"Press me" forState:UIControlStateNormal];
    [button setBackgroundColor:[UIColor blueColor]];
    button.frame = CGRectMake(80.0, 210.0, 160.0, 40.0);
    [self.view addSubview:button];
}

- (void)handleButtonAction {
    FlutterViewController* flutterViewController = [[FlutterViewController alloc] init];
    [self presentViewController:flutterViewController animated:false completion:nil];
}
@end
```


Swift:
AppDelegate.swift
```
import UIKit
import Flutter
import FlutterPluginRegistrant // Only if you have Flutter Plugins.

@UIApplicationMain
class AppDelegate: FlutterAppDelegate {

  // Only if you have Flutter plugins.
  override func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {
    GeneratedPluginRegistrant.register(with: self);
    return super.application(application, didFinishLaunchingWithOptions: launchOptions);
  }

}
```

ViewController.swift
```
import UIKit
import Flutter

class ViewController: UIViewController {
  override func viewDidLoad() {
    super.viewDidLoad()
    let button = UIButton(type:UIButtonType.custom)
    button.addTarget(self, action: #selector(handleButtonAction), for: .touchUpInside)
    button.setTitle("Press me", for: UIControlState.normal)
    button.frame = CGRect(x: 80.0, y: 210.0, width: 160.0, height: 40.0)
    button.backgroundColor = UIColor.blue
    self.view.addSubview(button)
  }

  @objc func handleButtonAction() {
    let flutterViewController = FlutterViewController()
    self.present(flutterViewController, animated: false, completion: nil)
  }
}
```

å…·ä½“ä½¿ç”¨ä¸­çš„ Route è·³è½¬æ–¹å¼

OC:
```
[flutterViewController setInitialRoute:@"route1"];
```

Swift:
```
flutterViewController.setInitialRoute("route1")
```

æ›´å¤š iOS ä¸ Flutter çš„ç›¸äº’è°ƒç”¨ï¼Œå‚è€ƒ Github Demo ä¸­çš„ FlutterDemoã€‚


## ğŸ Demo æ¼”ç¤º

1ï¼‰Todolist UI

```
cd FlutterDemo/hello_flutter_app/lib/TodoPage.dart
```

![](http://ghexoblogimages.oss-cn-beijing.aliyuncs.com/18-12-29/53674347.jpg)

2ï¼‰SQLæ•°æ®åº“ é€šè®¯å½•

```
cd FlutterDemo/hello_flutter_app/lib/DataApp.dart
```

![](http://ghexoblogimages.oss-cn-beijing.aliyuncs.com/18-12-29/63192092.jpg)

3ï¼‰æ—…æ¸¸é€šä¿¡

```
cd FlutterDemo/hello_flutter_app/lib/ComplexApp.dart
cd FlutterDemo/hello_flutter_app/lib/ChatsApp.dart
```

![](http://ghexoblogimages.oss-cn-beijing.aliyuncs.com/18-12-29/99893081.jpg)

## ğŸ“š ç›¸å…³é“¾æ¥

* Flutter ä¸­å›½ï¼šhttps://flutter.io/community/china
* Flutter ä¸­æ–‡ç¤¾åŒºï¼š
https://flutter-io.cn/
* Flutter Github Wiki:
https://github.com/flutter/flutter/wiki/Add-Flutter-to-existing-apps#experiment-integrate-flutterviewcontroller

## ğŸ˜¬ è”ç³»

* WeChat : WhatsXie
* Email : ReverseScale@iCloud.com
* Blog : https://reversescale.github.io

